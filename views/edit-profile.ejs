<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="images/salary.png">
  <link rel="stylesheet" href="styles/blog.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <title>
    Edit Profile
  </title>
  <style>
    body{
      margin-top:20px;
      background:#f8f8f8
    }
  </style>
</head>
<body>
  <%- include("./partials/header.ejs") %>
  <div class="container">
    <div class="row flex-lg-nowrap">
      <div class="col">
        <div class="row">
          <div class="col mb-3">
            <div class="card">
              <div class="card-body">
                <div class="e-profile">
                  <div class="row">
                    <div class="col-12 col-sm-auto mb-3">
                      <div class="mx-auto" style="width: 140px;">
                        <div class="d-flex justify-content-center align-items-center rounded" style="height: 140px; background-color: rgb(233, 236, 239);">
                          <% if (locals.profilePic){ %>
                            <img src=<%=profilePic%> style="height: 140px" alt="profile picture">
                          <% } else{ %>
                            <img src="images/default-profile.jpg" style="height: 140px" alt="default profile picture">
                          <% } %>
                        </div>
                      </div>
                    </div>
                    <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
                      <div class=" text-sm-left mb-2 mb-sm-0">
                        <h4 class="pb-1 mb-0 text-nowrap"><%= username %></h4>
                        <p class="mb-0">ID: <%= userID %></p>
                        <div class="text-muted">
                          <% if (locals.numPost){ %>
                            <small><%= numPost %> point<%= (locals.numPost > 1) ? 's' : '' %></small>
                          <% } else{ %>
                            <small>0 point</small>
                          <% } %>
                        </div>
                        <div class="text-muted"><small>Active now</small></div>
                        <!-- <div class="mt-2">
                          <input type="file" name="profilePic" class="inputfile">
                          <label for="file">
                            <button class="btn btn-primary image-upload-btn" type="button">
                              <i class="fa fa-fw fa-camera"></i>
                              <span>Change Photo</span>
                            </button>
                          </label>
                          <span class="uploaded-file-name">No image selected</span> Container for displaying uploaded file name
                        </div> -->
                      </div>
                      <div class="text-center text-sm-right">
                        <span class="badge badge-secondary">administrator</span>
                        <div class="text-muted"><small>Joined <%= joinDate %></small></div>
                      </div>
                    </div>
                  </div>
                  <ul class="nav nav-tabs pt-3">
                    <li class="nav-item"><a href="" class="active nav-link">Edit your profile</a></li>
                  </ul>
                  <div class="tab-content pt-1">
                    <div class="tab-pane active">
                      <form class="form" novalidate="" style="display: block;" action="/updated" method="POST">
                        <div class="row">
                          <div class="col">
                            <div class="row">
                              <div class="col">
                                <div class="form-group">
                                  <label>Username</label>
                                  <input class="form-control" type="text" name="username" placeholder="<%= username %>" value="<%= username %>">
                                </div>
                              </div>
                            </div>
                            <div class="row mt-4">
                              <div class="col">
                                <div class="form-group">
                                  <label><span style="font-weight: bolder;">DMP Commitment:</span><br/>Repayment period (month)</label>
                                  <input class="form-control" type="text" name="payPeriod" placeholder="<%= payPeriod %>" value="<%= payPeriod %>">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                <div class="form-group">
                                  <label>Repayment amount (RM)</label>
                                  <input class="form-control" type="text" name="payAmount" placeholder="<%= payAmount %>" value="<%= payAmount %>">
                                </div>
                              </div>
                            </div>
                            <div class="row mt-4">
                              <div class="col">
                                <div class="form-group">
                                  <label><span style="font-weight: bolder;">Income Statement:</span><br/>Active Income (RM): </label>
                                  <input class="form-control" type="text" name="activeIncome" placeholder="<%= activeIncome %>" value="<%= activeIncome %>">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                <div class="form-group">
                                  <label>Passive Income (RM)</label>
                                  <input class="form-control" type="text" name="passiveIncome" placeholder="<%= passiveIncome %>" value="<%= passiveIncome %>">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                <div class="form-group">
                                  <label>Portfolio Income (RM)</label>
                                  <input class="form-control" type="text" name="portfolioIncome" placeholder="<%= portfolioIncome %>" value="<%= portfolioIncome %>">
                                </div>
                              </div>
                            </div>
                            <div class="row mt-4">
                              <div class="col">
                                <div class="form-group">
                                  <label><span style="font-weight: bolder;">Expenses:</span><br/>Fixed expenses (RM): </label>
                                  <input class="form-control" type="text" name="fixedExpenses" placeholder="<%= fixedExpenses %>" value="<%= fixedExpenses %>">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                <div class="form-group">
                                  <label>Variable Expenses (RM)</label>
                                  <input class="form-control" type="text" name="variableExpenses" placeholder="<%= variableExpenses %>" value="<%= variableExpenses %>">
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row mt-4">
                          <div class="col d-flex justify-content-end">
                            <button class="btn btn-primary" type="submit">Save Changes</button>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%- include("./partials/footer.ejs") %>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="script/upload-img-button.js"></script>
</body>
</html>